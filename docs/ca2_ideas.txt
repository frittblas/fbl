Random ideas:

talking to npc that sells stuff:

-howdy ho buy my things.
-I don't remember you being in the book?
-Oh, there's tons of stuff that happened that aren't in the book.
-what book?

---

Components:

Already in:

Position
Sprite
Path
MouseControl
Camera
DialogTrig
Light
--
AutoAim
Laser
Magnet - on the way
Shield -



Todo:
Register components and systems in sysManager class. Done!
Set the player up in Chars class (add components). Done!
Use bitset.reset() in between. Done!

Add fbl log function (SDL_Log) Done!
Add func setNew() to path-class()? Yes but not urgent :)

Change dirs in explore mode. Done!
Add unwalkable tiles. Done!

Add camera component. Done!
Add camera system. Done!
Add camera limits, lerp and deadzone. Done!


New file, like LuaDialogue that exposes some new functions to be called
from lua, like: StartDialogue() that sets a variable that you can pick up in Lua.
Also some cutscene stuff maybe. And give items. High level gameplay things.
Set up text and font stuff (and dialogs, ui) in C++. Then do dialogue with coroutines. Done!
Trigger system to start dialogues! - Done!

Added LuaDialogue.cpp but vc doesn't like the extern lua_State variable! Fix it!
test to put(tm): extern "C" {extern lua_State variable} in LuaDialogue.cpp. Done!!

Add weather! On the way, clouds done! Will make (it) rain. Rain done!
Fix path finding bug where you restart when pathing. Done!

Day/Night and lights - Done!
Amazing lightning effect! - Done!
Make snow - Done!
Add Tile flip in ScenEdit - Done!

--TODO NEXT--

Draw you own sprites! And own ip :)... DONE!
Add animated water-"corner" (4 of them) to make lakes. Done!
Draw characters before weather :) (now brodo is walking on the clouds). Done!
Fix green borders on mobile. - Tried black rects, did not work.. Seems to work with the new logical res trick, experiment further!
Start to add sounds and music - Done!

Small bug: If you click Talk, after the conversation the player will path to the Talk button coords :) FIXED!!!!!
Start planning the racing system! Make new folder makes sense. - done.

Add pick start, randomize rest.	- done.
Add laser (note that each robot can only equip one of each addon). - Done!
Add auto-aim (used by Cpu's and optionally the player) - Done!

Add tweening. - Done!
Add camera shake. Done!
Add darkness/light to the race. Done!
Add button to bring up RobotCollection. - Done!

Make nice transition between levels. Two filled rects that meet in the middle of the screen. Also some text describing the location.
Add ability to choose which way to go (can only choose one direction!), a pathway will open up. Backtracking?
Add some nice tiles (more grass, snow etc) - in progress.
Make a couple of nice levels that are final-ish - in progress.
Make the tile-type 0-9 be terrain. 10-19 = objects (pushable blocks, shops, secret passage etc.) 20-up NPCs
Make a sound system for music, ambient sounds and sfx. - in progress.

Maybe add more detailed folder structure.
Add #ifdef cplusplus in the html5 section of emscripten build to build easier.
Add a save system online and leaderboards online. {

Regarding save/load game: Maybe keep track of everything in Progress.cpp, every time something happens:
- you claim a new robot
- a robot levels up
- a robot gets a new component (addon, position etc)
- player earns cash etc.

Think about this a bit.

Keep simple:

What location are you at?
How much money?
Which robots do you own, what levels are they?
What addons do you own? What levels are they?

Maybe limit the times/places you can save. At the beginning of a new location? That way, the dialogues
will be intact.

}

Other stuff:
Player can find skills in chests (or buy), called Addons. Passive or active skills.

Cool thing:
Make a "dungeon" with never ending races, player sets up a team of 3 robots with strategic addons, can't repair.
Just go as far as you can.


robot collection menu! - almost done!
the actual game (race) - on the way :)

Team of 3 robots to compete?
Random and ready made levels?
passive (i.e magnetic) and active (i.e laser) skills.

Sprite layers are:
Ground tiles (grass and blocks): 0
Player: 1
Tunnel tiles (player goes under): 2
Clouds: 3
Gray collectionMenu BG: 4
White RobotBg BG: 5
Powerups: 6 (coins and such, not done)
Robots: 7 (on top)

Addons are UI elements (buttons), will always be rendered on top of everything.

Come up with a solution for the collectionMenu being susceptible to time of day :)
Maybe just draw a BIG bg sprite (scaled) before drawing the menu and turn off weather.. (<-this)

MAYBE looks like a good idea to remove path component of the robots in explore mode :)
at least if you use mousectrl on one of the robots, and hop between race and explore.
Done - I removed the path components, only use 4 (max) now.

Next:

Some kind of meaningful powerup that the robots can pick up (also added during the race).
Add different ways to control the robot: a button that makes robot path back home.
Normally it will maybe pick up three powerups, then go to the middle, then back home.
So the a.i will look for power-ups, path there, get new path and so on.
Add shield.
Add mines.
Add homing missile (using pathfinding continously to find the target)
Add magnetic passive ability.
Add diagonals passive ability? (or maybe this is robot specific)
Add teleport.
Add ability to slow down time (as long as you hold button)


Add button to start ongoing conversation with charming alarming, black bg, ridicolous conversation.
Sometimes charming alarming does not want to talk (when no progress has been made.)

Maybe separate Path and RobotPath systems (esp. if the a.i gets more sophisticated).
Maybe sprite aswell.

Write some catchy synth-tunes.

Also later (maybe):
Let player move a block in the race (later).
Let player drop a bait that a.i-robots follow!
Let player MouseCtrl the robot.
What about teams? 3 races after one another?
Just wipe all the fbl_-lists and call init race again.
More stuff in explore mode: Shops, sokoban block pushing?, standard fetch quests.
Add more vegetable-npcs tomato-man, pear-man (done!). old man (used to race robots in the 60's)
Add three more distinct locations (explore), like winter (snow), city etc.


Story idea:
Charming alarming is taken to the scrapyard (e-waste) without knowing about it, but finds out.
Charming alarming fakes becoming self aware to plead to the player.
The player believes the robot an start questioning himself.


-----------------------------------------------------------------

NEXT THING TO DO:

1. Make addons work in robot-collection aand in the race (correct addon as buttons) - menu done, will add buttons to race

10 different addons total (autoaim, laser, shield, magnet, mine, etc)
5 levels to each addon! (same components/sprite different just different stats/colors (make fbl_set_ui_elem_color(r, g, b)))

2. Start writing a long dialogue thing with Charming Alarming (and a nice scene, black borders up and down)

idea: after each race (or set of 3 races) the player can choose to buy 1 of 3 random items (robots AND Addons) or to get some cash.
Some stuff is really expensive.
less chance to get good stuff of course. Can't be offered stuff you already own of course.
When you buy a robot, all the addons are removed.

Robots can level up and gain HP, speed, energy, diag, mousectrl

All robots can go back to base at any time and recharge the energy (by clicking on the base.)


BUGS:

1. If you create an emitter before the first weather-call in Game.cpp, the fbl_set_lighting_tint() doesn't work!
Really  weird, probably something simple. (Test if this is still relevant, might have fixed it)

2. The zip from gihub builds and runs but can't load a level! Also weird.

